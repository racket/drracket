
################################
#          Precise GC          #
################################
# included in ../GNUmakefile

XFORM = ../mzscheme/mzscheme2k -rq $(srcdir)/../mzscheme/gc2/xform.ss ../mzscheme/gc2/ctok "gcc -E -I$(srcdir)/../mzscheme/gc2 $(XINCLUDE) $(NOGCINC) $(OPTIONS) $(GUI) -I$(WXDIR)/src/XWidgets -I$(WXDIR)/src"
XFORMDEP = $(srcdir)/../mzscheme/gc2/xform.ss $(srcdir)/../mzscheme/gc2/gc2.h

WXBDIR=../wxxt

gc2/xsrc/Window.cc: $(WXDIR)/src/Windows/Window.cc $(WXBDIR)/src/Windows/Window.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Button.cc: $(WXDIR)/src/Windows/Button.cc $(WXBDIR)/src/Windows/Button.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Frame.cc: $(WXDIR)/src/Windows/Frame.cc $(WXBDIR)/src/Windows/Frame.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Layout.cc: $(WXDIR)/src/Windows/Layout.cc $(WXBDIR)/src/Windows/Layout.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/MenuBar.cc: $(WXDIR)/src/Windows/MenuBar.cc $(WXBDIR)/src/Windows/MenuBar.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/RadioBox.cc: $(WXDIR)/src/Windows/RadioBox.cc $(WXBDIR)/src/Windows/RadioBox.o $(XFORMDEP)
	$(XFORM) $< $@ 
gc2/xsrc/CheckBox.cc: $(WXDIR)/src/Windows/CheckBox.cc $(WXBDIR)/src/Windows/CheckBox.o $(XFORMDEP)
	$(XFORM) $< $@ 
gc2/xsrc/Choice.cc: $(WXDIR)/src/Windows/Choice.cc $(WXBDIR)/src/Windows/Choice.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Gauge.cc: $(WXDIR)/src/Windows/Gauge.cc $(WXBDIR)/src/Windows/Gauge.o $(XFORMDEP)
	$(XFORM) $< $@  
gc2/xsrc/ListBox.cc: $(WXDIR)/src/Windows/ListBox.cc $(WXBDIR)/src/Windows/ListBox.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Message.cc: $(WXDIR)/src/Windows/Message.cc $(WXBDIR)/src/Windows/Message.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Slider.cc: $(WXDIR)/src/Windows/Slider.cc $(WXBDIR)/src/Windows/Slider.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Canvas.cc: $(WXDIR)/src/Windows/Canvas.cc $(WXBDIR)/src/Windows/Canvas.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/DialogBox.cc: $(WXDIR)/src/Windows/DialogBox.cc $(WXBDIR)/src/Windows/DialogBox.o $(XFORMDEP)
	$(XFORM) $< $@ 
gc2/xsrc/Item.cc: $(WXDIR)/src/Windows/Item.cc $(WXBDIR)/src/Windows/Item.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Menu.cc: $(WXDIR)/src/Windows/Menu.cc $(WXBDIR)/src/Windows/Menu.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Panel.cc: $(WXDIR)/src/Windows/Panel.cc $(WXBDIR)/src/Windows/Panel.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/DC.cc: $(WXDIR)/src/DeviceContexts/DC.cc $(WXBDIR)/src/DeviceContexts/DC.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/WindowDC.cc: $(WXDIR)/src/DeviceContexts/WindowDC.cc $(WXBDIR)/src/DeviceContexts/WindowDC.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/MemoryDC.cc: $(WXDIR)/src/DeviceContexts/MemoryDC.cc $(WXBDIR)/src/DeviceContexts/MemoryDC.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/PSDC.cc: $(WXDIR)/src/DeviceContexts/PSDC.cc $(WXBDIR)/src/DeviceContexts/PSDC.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/Object.cc: $(WXDIR)/src/DataStructures/Object.cc $(WXBDIR)/src/DataStructures/Object.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/TypeTree.cc: $(WXDIR)/src/DataStructures/TypeTree.cc $(WXBDIR)/src/DataStructures/TypeTree.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wb_list.cc: $(WXDIR)/src/DataStructures/wb_list.cc $(WXBDIR)/src/DataStructures/wb_list.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wb_hash.cc: $(WXDIR)/src/DataStructures/wb_hash.cc $(WXBDIR)/src/DataStructures/wb_hash.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/AppMain.cc: $(WXDIR)/src/Application/AppMain.cc $(WXBDIR)/src/Application/AppMain.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/GlobalData.cc: $(WXDIR)/src/Application/GlobalData.cc $(WXBDIR)/src/Application/GlobalData.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/FileDialog.cc: $(WXDIR)/src/Dialogs/FileDialog.cc $(WXBDIR)/src/Dialogs/FileDialog.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/MessageBox.cc: $(WXDIR)/src/Dialogs/MessageBox.cc $(WXBDIR)/src/Dialogs/MessageBox.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/EvtHandler.cc: $(WXDIR)/src/EventHandling/EvtHandler.cc $(WXBDIR)/src/EventHandling/EvtHandler.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wb_sysev.cc: $(WXDIR)/src/EventHandling/wb_sysev.cc $(WXBDIR)/src/EventHandling/wb_sysev.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wb_stdev.cc: $(WXDIR)/src/EventHandling/wb_stdev.cc $(WXBDIR)/src/EventHandling/wb_stdev.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/Bitmap.cc: $(WXDIR)/src/GDI-Classes/Bitmap.cc $(WXBDIR)/src/GDI-Classes/Bitmap.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Colour.cc: $(WXDIR)/src/GDI-Classes/Colour.cc $(WXBDIR)/src/GDI-Classes/Colour.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Font.cc: $(WXDIR)/src/GDI-Classes/Font.cc $(WXBDIR)/src/GDI-Classes/Font.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/FontDirectory.cc: $(WXDIR)/src/GDI-Classes/FontDirectory.cc $(WXBDIR)/src/GDI-Classes/FontDirectory.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Pen+Brush.cc: $(WXDIR)/src/GDI-Classes/Pen+Brush.cc $(WXBDIR)/src/GDI-Classes/Pen+Brush.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/Clipboard.cc: $(WXDIR)/src/Misc/Clipboard.cc $(WXBDIR)/src/Misc/Clipboard.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Timer.cc: $(WXDIR)/src/Misc/Timer.cc $(WXBDIR)/src/Misc/Timer.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/Application.cc: $(WXDIR)/src/Utilities/Application.cc $(WXBDIR)/src/Utilities/Application.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Assert.cc: $(WXDIR)/src/Utilities/Assert.cc $(WXBDIR)/src/Utilities/Assert.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/BusyCursor.cc: $(WXDIR)/src/Utilities/BusyCursor.cc $(WXBDIR)/src/Utilities/BusyCursor.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Date+Time.cc: $(WXDIR)/src/Utilities/Date+Time.cc $(WXBDIR)/src/Utilities/Date+Time.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Directory.cc: $(WXDIR)/src/Utilities/Directory.cc $(WXBDIR)/src/Utilities/Directory.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Error.cc: $(WXDIR)/src/Utilities/Error.cc $(WXBDIR)/src/Utilities/Error.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/GDI.cc: $(WXDIR)/src/Utilities/GDI.cc $(WXBDIR)/src/Utilities/GDI.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Home.cc: $(WXDIR)/src/Utilities/Home.cc $(WXBDIR)/src/Utilities/Home.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Misc.cc: $(WXDIR)/src/Utilities/Misc.cc $(WXBDIR)/src/Utilities/Misc.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Net.cc: $(WXDIR)/src/Utilities/Net.cc $(WXBDIR)/src/Utilities/Net.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Path.cc: $(WXDIR)/src/Utilities/Path.cc $(WXBDIR)/src/Utilities/Path.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/Resources.cc: $(WXDIR)/src/Utilities/Resources.cc $(WXBDIR)/src/Utilities/Resources.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/String.cc: $(WXDIR)/src/Utilities/String.cc $(WXBDIR)/src/Utilities/String.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/TempFile.cc: $(WXDIR)/src/Utilities/TempFile.cc $(WXBDIR)/src/Utilities/TempFile.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wx_image.cc: $(WXDIR)/utils/image/src/wx_image.cc $(WXBDIR)/utils/image/src/wx_image.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wx_img.cc: $(WXDIR)/utils/image/src/wx_img.cc $(WXBDIR)/utils/image/src/wx_img.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wx_24to8.cc: $(WXDIR)/utils/image/src/wx_24to8.cc $(WXBDIR)/utils/image/src/wx_24to8.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wx_bmp.cc: $(WXDIR)/utils/image/src/wx_bmp.cc $(WXBDIR)/utils/image/src/wx_bmp.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wx_gam.cc: $(WXDIR)/utils/image/src/wx_gam.cc $(WXBDIR)/utils/image/src/wx_gam.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wx_gif.cc: $(WXDIR)/utils/image/src/wx_gif.cc $(WXBDIR)/utils/image/src/wx_gif.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wx_gifwr.cc: $(WXDIR)/utils/image/src/wx_gifwr.cc $(WXBDIR)/utils/image/src/wx_gifwr.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wx_xbm.cc: $(WXDIR)/utils/image/src/wx_xbm.cc $(WXBDIR)/utils/image/src/wx_xbm.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wx_media.cc: $(srcdir)/wxme/wx_media.cxx wxme/wx_media.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wx_mpriv.cc: $(srcdir)/wxme/wx_mpriv.cxx wxme/wx_mpriv.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wx_snip.cc: $(srcdir)/wxme/wx_snip.cxx wxme/wx_snip.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wx_msnip.cc: $(srcdir)/wxme/wx_msnip.cxx wxme/wx_msnip.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wx_mbuf.cc: $(srcdir)/wxme/wx_mbuf.cxx wxme/wx_mbuf.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wx_mpbrd.cc: $(srcdir)/wxme/wx_mpbrd.cxx wxme/wx_mpbrd.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wx_keym.cc: $(srcdir)/wxme/wx_keym.cxx wxme/wx_keym.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wx_medio.cc: $(srcdir)/wxme/wx_medio.cxx wxme/wx_medio.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wx_medad.cc: $(srcdir)/wxme/wx_medad.cxx wxme/wx_medad.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wx_style.cc: $(srcdir)/wxme/wx_style.cxx wxme/wx_style.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wx_mline.cc: $(srcdir)/wxme/wx_mline.cxx wxme/wx_mline.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wx_cgrec.cc: $(srcdir)/wxme/wx_cgrec.cxx wxme/wx_cgrec.o $(XFORMDEP)
	$(XFORM) $< $@


gc2/xsrc/wxscheme.cc: $(srcdir)/wxs/wxscheme.cxx wxs/wxscheme.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/xcglue.c: $(srcdir)/../mzscheme/utils/xcglue.c wxs/xcglue.o $(XFORMDEP)
	$(XFORM) $< $@


gc2/xsrc/mred.cc: $(srcdir)/mred.cxx mred.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/mredx.cc: $(srcdir)/mredx.cxx mredx.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/xsrc/wxs_bmap.cc: $(srcdir)/wxs/wxs_bmap.cxx wxs/wxs_bmap.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_butn.cc: $(srcdir)/wxs/wxs_butn.cxx wxs/wxs_butn.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_chce.cc: $(srcdir)/wxs/wxs_chce.cxx wxs/wxs_chce.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_ckbx.cc: $(srcdir)/wxs/wxs_ckbx.cxx wxs/wxs_ckbx.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_cnvs.cc: $(srcdir)/wxs/wxs_cnvs.cxx wxs/wxs_cnvs.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_dc.cc: $(srcdir)/wxs/wxs_dc.cxx wxs/wxs_dc.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_evnt.cc: $(srcdir)/wxs/wxs_evnt.cxx wxs/wxs_evnt.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_fram.cc: $(srcdir)/wxs/wxs_fram.cxx wxs/wxs_fram.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_gage.cc: $(srcdir)/wxs/wxs_gage.cxx wxs/wxs_gage.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_gdi.cc: $(srcdir)/wxs/wxs_gdi.cxx wxs/wxs_gdi.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_glob.cc: $(srcdir)/wxs/wxs_glob.cxx wxs/wxs_glob.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_item.cc: $(srcdir)/wxs/wxs_item.cxx wxs/wxs_item.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_lbox.cc: $(srcdir)/wxs/wxs_lbox.cxx wxs/wxs_lbox.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_madm.cc: $(srcdir)/wxs/wxs_madm.cxx wxs/wxs_madm.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_mede.cc: $(srcdir)/wxs/wxs_mede.cxx wxs/wxs_mede.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_medi.cc: $(srcdir)/wxs/wxs_medi.cxx wxs/wxs_medi.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_menu.cc: $(srcdir)/wxs/wxs_menu.cxx wxs/wxs_menu.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_mio.cc: $(srcdir)/wxs/wxs_mio.cxx wxs/wxs_mio.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_misc.cc: $(srcdir)/wxs/wxs_misc.cxx wxs/wxs_misc.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_mpb.cc: $(srcdir)/wxs/wxs_mpb.cxx wxs/wxs_mpb.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_obj.cc: $(srcdir)/wxs/wxs_obj.cxx wxs/wxs_obj.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_panl.cc: $(srcdir)/wxs/wxs_panl.cxx wxs/wxs_panl.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_rado.cc: $(srcdir)/wxs/wxs_rado.cxx wxs/wxs_rado.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_slid.cc: $(srcdir)/wxs/wxs_slid.cxx wxs/wxs_slid.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_snip.cc: $(srcdir)/wxs/wxs_snip.cxx wxs/wxs_snip.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_styl.cc: $(srcdir)/wxs/wxs_styl.cxx wxs/wxs_styl.o $(XFORMDEP)
	$(XFORM) $< $@
gc2/xsrc/wxs_win.cc: $(srcdir)/wxs/wxs_win.cxx wxs/wxs_win.o $(XFORMDEP)
	$(XFORM) $< $@

gc2/%.o: gc2/xsrc/%.cc
	$(CXX) -DGC2_JUST_MACROS -include $(srcdir)/../mzscheme/gc2/gc2.h -c $(CXXFLAGS) -o $@ $<

gc2/%.o: gc2/xsrc/%.c
	$(CC) -DGC2_JUST_MACROS -include $(srcdir)/../mzscheme/gc2/gc2.h -c $(CFLAGS) -o $@ $<

gc2/wxGC.o: $(srcdir)/../wxcommon/wxGC.cxx $(srcdir)/../mzscheme/gc2/gc2.h $(srcdir)/../mzscheme/src/stypes.h
	$(CXX) -DMZ_PRECISE_GC -I$(srcdir)/../mzscheme/gc2/ $(CPPFLAGS) -c -o $@ $<

XSRCS = gc2/xsrc/Window.cc \
  gc2/xsrc/Button.cc \
  gc2/xsrc/Frame.cc \
  gc2/xsrc/Layout.cc \
  gc2/xsrc/MenuBar.cc \
  gc2/xsrc/RadioBox.cc \
  gc2/xsrc/CheckBox.cc \
  gc2/xsrc/Choice.cc \
  gc2/xsrc/Gauge.cc \
  gc2/xsrc/ListBox.cc \
  gc2/xsrc/Message.cc \
  gc2/xsrc/Slider.cc \
  gc2/xsrc/Canvas.cc \
  gc2/xsrc/DialogBox.cc \
  gc2/xsrc/Item.cc \
  gc2/xsrc/Menu.cc \
  gc2/xsrc/Panel.cc \
\
  gc2/xsrc/DC.cc \
  gc2/xsrc/WindowDC.cc \
  gc2/xsrc/MemoryDC.cc \
  gc2/xsrc/PSDC.cc \
\
  gc2/xsrc/Object.cc \
  gc2/xsrc/TypeTree.cc \
  gc2/xsrc/wb_list.cc \
  gc2/xsrc/wb_hash.cc \
\
  gc2/xsrc/AppMain.cc \
  gc2/xsrc/GlobalData.cc \
\
  gc2/xsrc/FileDialog.cc \
  gc2/xsrc/MessageBox.cc \
\
  gc2/xsrc/EvtHandler.cc \
  gc2/xsrc/wb_sysev.cc \
  gc2/xsrc/wb_stdev.cc \
\
  gc2/xsrc/Bitmap.cc \
  gc2/xsrc/Colour.cc \
  gc2/xsrc/Font.cc \
  gc2/xsrc/FontDirectory.cc \
  gc2/xsrc/Pen+Brush.cc \
\
  gc2/xsrc/Clipboard.cc \
  gc2/xsrc/Timer.cc \
\
  gc2/xsrc/Application.cc \
  gc2/xsrc/Assert.cc \
  gc2/xsrc/BusyCursor.cc \
  gc2/xsrc/Date+Time.cc \
  gc2/xsrc/Directory.cc \
  gc2/xsrc/Error.cc \
  gc2/xsrc/GDI.cc \
  gc2/xsrc/Home.cc \
  gc2/xsrc/Misc.cc \
  gc2/xsrc/Net.cc \
  gc2/xsrc/Path.cc \
  gc2/xsrc/Resources.cc \
  gc2/xsrc/String.cc \
  gc2/xsrc/TempFile.cc \
\
  gc2/xsrc/wx_image.cc \
  gc2/xsrc/wx_img.cc \
  gc2/xsrc/wx_24to8.cc \
  gc2/xsrc/wx_bmp.cc \
  gc2/xsrc/wx_gam.cc \
  gc2/xsrc/wx_gif.cc \
  gc2/xsrc/wx_gifwr.cc \
  gc2/xsrc/wx_xbm.cc \
\
  gc2/xsrc/wx_media.cc \
  gc2/xsrc/wx_mpriv.cc \
  gc2/xsrc/wx_snip.cc \
  gc2/xsrc/wx_msnip.cc \
  gc2/xsrc/wx_mbuf.cc \
  gc2/xsrc/wx_mpbrd.cc \
  gc2/xsrc/wx_keym.cc \
  gc2/xsrc/wx_medio.cc \
  gc2/xsrc/wx_medad.cc \
  gc2/xsrc/wx_style.cc \
  gc2/xsrc/wx_mline.cc \
  gc2/xsrc/wx_cgrec.cc \
\
  gc2/xsrc/wxscheme.cc \
\
  gc2/xsrc/wxs_bmap.cc \
  gc2/xsrc/wxs_butn.cc \
  gc2/xsrc/wxs_chce.cc \
  gc2/xsrc/wxs_ckbx.cc \
  gc2/xsrc/wxs_cnvs.cc \
  gc2/xsrc/wxs_dc.cc \
  gc2/xsrc/wxs_evnt.cc \
  gc2/xsrc/wxs_fram.cc \
  gc2/xsrc/wxs_gage.cc \
  gc2/xsrc/wxs_gdi.cc \
  gc2/xsrc/wxs_glob.cc \
  gc2/xsrc/wxs_item.cc \
  gc2/xsrc/wxs_lbox.cc \
  gc2/xsrc/wxs_madm.cc \
  gc2/xsrc/wxs_mede.cc \
  gc2/xsrc/wxs_medi.cc \
  gc2/xsrc/wxs_menu.cc \
  gc2/xsrc/wxs_mio.cc \
  gc2/xsrc/wxs_misc.cc \
  gc2/xsrc/wxs_mpb.cc \
  gc2/xsrc/wxs_obj.cc \
  gc2/xsrc/wxs_panl.cc \
  gc2/xsrc/wxs_rado.cc \
  gc2/xsrc/wxs_slid.cc \
  gc2/xsrc/wxs_snip.cc \
  gc2/xsrc/wxs_styl.cc \
  gc2/xsrc/wxs_win.cc \
\
  gc2/xsrc/mred.cc \
  gc2/xsrc/mredx.cc

XOBJS = ${XSRCS:gc2/xsrc/%.cc=gc2/%.o} \
  gc2/xcglue.o \
  gc2/wxGC.o


MZOBJS = ../mzscheme/gc2/salloc.o \
	../mzscheme/gc2/bignum.o \
	../mzscheme/gc2/bool.o \
	../mzscheme/gc2/builtin.o \
	../mzscheme/gc2/char.o \
	../mzscheme/gc2/complex.o \
	../mzscheme/gc2/dynext.o \
	../mzscheme/gc2/env.o \
	../mzscheme/gc2/error.o \
	../mzscheme/gc2/eval.o \
	../mzscheme/gc2/file.o \
	../mzscheme/gc2/fun.o \
	../mzscheme/gc2/hash.o \
	../mzscheme/gc2/image.o \
	../mzscheme/gc2/list.o \
	../mzscheme/gc2/network.o \
	../mzscheme/gc2/numarith.o \
	../mzscheme/gc2/number.o \
	../mzscheme/gc2/numcomp.o \
	../mzscheme/gc2/numstr.o \
        ../mzscheme/gc2/objclass.o \
        ../mzscheme/gc2/object.o \
	../mzscheme/gc2/port.o \
	../mzscheme/gc2/portfun.o \
	../mzscheme/gc2/print.o \
	../mzscheme/gc2/process.o \
	../mzscheme/gc2/promise.o \
        ../mzscheme/gc2/rational.o \
	../mzscheme/gc2/read.o \
	../mzscheme/gc2/regexp.o \
	../mzscheme/gc2/sema.o \
	../mzscheme/gc2/setjmpup.o \
	../mzscheme/gc2/string.o \
	../mzscheme/gc2/struct.o \
	../mzscheme/gc2/symbol.o \
	../mzscheme/gc2/syntax.o \
	../mzscheme/gc2/type.o \
        ../mzscheme/gc2/unit.o \
        ../mzscheme/gc2/unitsig.o \
	../mzscheme/gc2/vector.o \
	../mzscheme/gc2/gc2.o

XWOBJS = ../wxxt/src/XWidgets/xwArrow.o \
    ../wxxt/src/XWidgets/xwCommon.o \
    ../wxxt/src/XWidgets/xwHScrollb.o \
    ../wxxt/src/XWidgets/xwRowCol.o \
    ../wxxt/src/XWidgets/xwSlider2.o \
    ../wxxt/src/XWidgets/xwVScrollb.o \
    ../wxxt/src/XWidgets/xwBoard.o \
    ../wxxt/src/XWidgets/xwEnforcer.o \
    ../wxxt/src/XWidgets/xwLabel.o \
    ../wxxt/src/XWidgets/xwScrollText.o \
    ../wxxt/src/XWidgets/xwTabString.o \
    ../wxxt/src/XWidgets/xwscroll.o \
    ../wxxt/src/XWidgets/xwButton.o \
    ../wxxt/src/XWidgets/xwFrame.o \
    ../wxxt/src/XWidgets/xwMenu.o \
    ../wxxt/src/XWidgets/xwScrollWin.o \
    ../wxxt/src/XWidgets/xwToggle.o \
    ../wxxt/src/XWidgets/xwCanvas.o \
    ../wxxt/src/XWidgets/xwGroup.o \
    ../wxxt/src/XWidgets/xwMultiList.o \
    ../wxxt/src/XWidgets/xwScrollbar.o \
    ../wxxt/src/XWidgets/xwTools3d.o

xform: $(XSRCS) gc2/xcglue.c

mred2k: $(XOBJS) $(MZOBJS) $(XWOBJS)
	$(LINKER) $(MREDLDFLAGS) -o mred2k $(LDSTARTERS) $(XOBJS) $(MZOBJS) $(XWOBJS) -L../wxxt/contrib/xpm/lib -lXpm $(LDLIBS) $(LDNONSTATICLIBS) $(LDENDERS)

gc2/xsrc:
	mkdir gc2/xsrc

2k: gc2/xsrc
	$(MAKE) all
	$(MAKE) mred2k
